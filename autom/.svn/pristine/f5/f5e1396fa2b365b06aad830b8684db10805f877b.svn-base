#language:pt

@FluxosPartnerCollaborantionRDF

Funcionalidade: Fluxos Partner Collaboration

Cenario: Cadastrar de dependências
Dado que o pool de oferta está desligado
Dado que desligo a obrigatoriedade da placa do caminhão no aceite de viagens
Dado que a justificativa de atribuição de viagem não é obrigatória
Dado que cadastro a justificativa de rejeite "Automação teste de rejeite de oferta"
Dado que cadastro a justificativa de atribuição "Automação atribuição de oferta"
Dado que cadastro o tipo de pedido "TIPOPEDDEPPC"
Dado que cadastro o tipo de item de pedido "TIPITEDEPPC"
Dado que cadastro o agrupador de zt "AZTDEPPC"
Dado que cadastro a restrição de localidade "RESLOCDEPPC"
Dado que cadastro a zona de transporte "ZTDEPPC" para o agrupador "AZTDEPPC" com a restrição de localidade "RESLOCDEPPC" e prioridade "1"
Dado que cadastro a origem "ORIDEPPC" com a restrição de localidade "RESLOCDEPPC" e Cep "90520-310"
Dado que cadastro o destino "DESTDEPPC" com a restrição de localidade "RESLOCDEPPC" e Cep "90520-310"
Dado que cadastro o hub de destino "HUBDESDEPPC" com a restrição de localidade "RESLOCDEPPC" e Cep "90520-310"
Dado que cadastro a categoria de produto "CATPRODDEPPC"
Dado que cadastro o calculador de tipo de serviço "CALCTIPOSERDEPPC" com o agrupador de zona de transporte "AZTDEPPC"
Dado que cadastro o calculador de frete viagem "CALFREVIAGEMDEPPC"
Dado que cadastro a transportadora "TRANDEPPC" para o calculador de tipo de serviço "CALCTIPOSERDEPPC", agrupador zona de transporte "AZTDEPPC", grupo logístico "AZTDEPPC" e calculador de frete viagem "CALFREVIAGEMDEPPC"
Dado que cadastro a transportadora "TRANDEPPC02" para o calculador de tipo de serviço "CALCTIPOSERDEPPC", agrupador zona de transporte "AZTDEPPC", grupo logístico "AZTDEPPC" e calculador de frete viagem "CALFREVIAGEMDEPPC"
Dado que cadastro o embarcador "EMBDEPPC"
Dado que cadastro o veículo "VEIDEPPC", com "2,50" de largura, "10,00" de comprimento e "3,00" de altura
Dado que cadastro o veículo "VEIDEPPC02", com "2,50" de largura, "10,00" de comprimento e "3,00" de altura
Dado que cadastro o caminhão "DEP-1234" do veículo "VEIDEPPC" da transportadora "TRANDEPPC"
Dado que cadastro o caminhão "DEP-1235" do veículo "VEIDEPPC02" da transportadora "TRANDEPPC02"
Dado que cadastro o invólucro "INVDEPPC" com politicas definidas no produto
Dado que cadastro o produto "PRODDEPPC" com a categoria "CATPRODDEPPC" e embarcador "EMBDEPPC"
Dado que adiciono a origem "ORIDEPPC" no parametro Parâmetros da política de reagendamento baseada na data de visibilidade dos pedidos
Dado dado que importo a planilha de frete
Dado que cadastro o pedido "PEDIDOPC01" do embarcador "EMBDEPPC" tipo de pedido "TIPOPEDDEPPC" destino "DESTDEPPC" origem "ORIDEPPC" produto "PRODDEPPC" item de pedido "TIPITEDEPPC" e invólucro "INVDEPPC" e Hub de destino "HUBDESDEPPC"
Dado que cadastro o pedido "PEDIDOPC02" do embarcador "EMBDEPPC" tipo de pedido "TIPOPEDDEPPC" destino "DESTDEPPC" origem "ORIDEPPC" produto "PRODDEPPC" item de pedido "TIPITEDEPPC" e invólucro "INVDEPPC" e Hub de destino "HUBDESDEPPC"
Dado que cadastro o pedido "PEDIDOPC04" do embarcador "EMBDEPPC" tipo de pedido "TIPOPEDDEPPC" destino "DESTDEPPC" origem "ORIDEPPC" produto "PRODDEPPC" item de pedido "TIPITEDEPPC" e invólucro "INVDEPPC" e Hub de destino "HUBDESDEPPC"
Dado que cadastro o pedido "PEDIDOPC05" do embarcador "EMBDEPPC" tipo de pedido "TIPOPEDDEPPC" destino "DESTDEPPC" origem "ORIDEPPC" produto "PRODDEPPC" item de pedido "TIPITEDEPPC" e invólucro "INVDEPPC" e Hub de destino "HUBDESDEPPC"
Dado que cadastro o pedido "PEDIDOPC06" do embarcador "EMBDEPPC" tipo de pedido "TIPOPEDDEPPC" destino "DESTDEPPC" origem "ORIDEPPC" produto "PRODDEPPC" item de pedido "TIPITEDEPPC" e invólucro "INVDEPPC" e Hub de destino "HUBDESDEPPC"
Dado que cadastro o pedido "PEDIDOPC07" do embarcador "EMBDEPPC" tipo de pedido "TIPOPEDDEPPC" destino "DESTDEPPC" origem "ORIDEPPC" produto "PRODDEPPC" item de pedido "TIPITEDEPPC" e invólucro "INVDEPPC" e Hub de destino "HUBDESDEPPC"
Dado que cadastro o pedido "PEDIDOPC08" do embarcador "EMBDEPPC" tipo de pedido "TIPOPEDDEPPC" destino "DESTDEPPC" origem "ORIDEPPC" produto "PRODDEPPC" item de pedido "TIPITEDEPPC" e invólucro "INVDEPPC" e Hub de destino "HUBDESDEPPC"
Dado que cadastro o pedido "PEDIDOPC09" do embarcador "EMBDEPPC" tipo de pedido "TIPOPEDDEPPC" destino "DESTDEPPC" origem "ORIDEPPC" produto "PRODDEPPC" item de pedido "TIPITEDEPPC" e invólucro "INVDEPPC" e Hub de destino "HUBDESDEPPC"
Dado que cadastro o pedido "PEDIDOPC18" do embarcador "EMBDEPPC" tipo de pedido "TIPOPEDDEPPC" destino "DESTDEPPC" origem "ORIDEPPC" produto "PRODDEPPC" item de pedido "TIPITEDEPPC" e invólucro "INVDEPPC" e Hub de destino "HUBDESDEPPC"
Dado que cadastro o pedido "PEDIDOPC19" do embarcador "EMBDEPPC" tipo de pedido "TIPOPEDDEPPC" destino "DESTDEPPC" origem "ORIDEPPC" produto "PRODDEPPC" item de pedido "TIPITEDEPPC" e invólucro "INVDEPPC" e Hub de destino "HUBDESDEPPC"
Dado que cadastro o pedido "PEDIDOPC20" do embarcador "EMBDEPPC" tipo de pedido "TIPOPEDDEPPC" destino "DESTDEPPC" origem "ORIDEPPC" produto "PRODDEPPC" item de pedido "TIPITEDEPPC" e invólucro "INVDEPPC" e Hub de destino "HUBDESDEPPC"
Dado que cadastro o pedido "PEDIDOPC21" do embarcador "EMBDEPPC" tipo de pedido "TIPOPEDDEPPC" destino "DESTDEPPC" origem "ORIDEPPC" produto "PRODDEPPC" item de pedido "TIPITEDEPPC" e invólucro "INVDEPPC" e Hub de destino "HUBDESDEPPC"
Dado que cadastro o pedido "PEDIDOPC22" do embarcador "EMBDEPPC" tipo de pedido "TIPOPEDDEPPC" destino "DESTDEPPC" origem "ORIDEPPC" produto "PRODDEPPC" item de pedido "TIPITEDEPPC" e invólucro "INVDEPPC" e Hub de destino "HUBDESDEPPC"
Dado que cadastro o pedido "PEDIDOPC23" do embarcador "EMBDEPPC" tipo de pedido "TIPOPEDDEPPC" destino "DESTDEPPC" origem "ORIDEPPC" produto "PRODDEPPC" item de pedido "TIPITEDEPPC" e invólucro "INVDEPPC" e Hub de destino "HUBDESDEPPC"
Dado que cadastro o pedido "PEDIDOPC24" do embarcador "EMBDEPPC" tipo de pedido "TIPOPEDDEPPC" destino "DESTDEPPC" origem "ORIDEPPC" produto "PRODDEPPC" item de pedido "TIPITEDEPPC" e invólucro "INVDEPPC" e Hub de destino "HUBDESDEPPC"
Dado que cadastro o pedido "PEDIDOPC25" do embarcador "EMBDEPPC" tipo de pedido "TIPOPEDDEPPC" destino "DESTDEPPC" origem "ORIDEPPC" produto "PRODDEPPC" item de pedido "TIPITEDEPPC" e invólucro "INVDEPPC" e Hub de destino "HUBDESDEPPC"
Dado que removo o pré-validador de operação manual hard "Localidades sem configuração de Zona de Transporte" do contexto de otimização "Default"
Dado que cadastro a viagem para o pedido "PEDIDOPC01" com a transportadora "TRANDEPPC" e veículo "VEIDEPPC"
Dado que cadastro a viagem para o pedido "PEDIDOPC02" com a transportadora "TRANDEPPC" e veículo "VEIDEPPC"
Dado que cadastro a viagem para o pedido "PEDIDOPC04" com a transportadora "TRANDEPPC" e veículo "VEIDEPPC"
Dado que cadastro a viagem para o pedido "PEDIDOPC05" com a transportadora "TRANDEPPC" e veículo "VEIDEPPC"
Dado que cadastro a viagem para o pedido "PEDIDOPC06" com a transportadora "TRANDEPPC" e veículo "VEIDEPPC"
Dado que cadastro a viagem para o pedido "PEDIDOPC07" com a transportadora "TRANDEPPC" e veículo "VEIDEPPC"
Dado que cadastro a viagem para o pedido "PEDIDOPC08" com a transportadora "TRANDEPPC" e veículo "VEIDEPPC"
Dado que cadastro a viagem para o pedido "PEDIDOPC09" com a transportadora "TRANDEPPC" e veículo "VEIDEPPC"
Dado que cadastro a viagem para o pedido "PEDIDOPC18" com a transportadora "TRANDEPPC" e veículo "VEIDEPPC"
Dado que cadastro a viagem para o pedido "PEDIDOPC19" com a transportadora "TRANDEPPC" e veículo "VEIDEPPC"
Dado que cadastro a viagem para o pedido "PEDIDOPC20" com a transportadora "TRANDEPPC" e veículo "VEIDEPPC"
Dado que cadastro a viagem para o pedido "PEDIDOPC21" com a transportadora "TRANDEPPC" e veículo "VEIDEPPC"
Dado que cadastro a viagem para o pedido "PEDIDOPC22" com a transportadora "TRANDEPPC" e veículo "VEIDEPPC"
Dado que cadastro a viagem para o pedido "PEDIDOPC23" com a transportadora "TRANDEPPC" e veículo "VEIDEPPC"
Dado que cadastro a viagem para o pedido "PEDIDOPC24" com a transportadora "TRANDEPPC" e veículo "VEIDEPPC"
Dado que cadastro a viagem para o pedido "PEDIDOPC25" com a transportadora "TRANDEPPC" e veículo "VEIDEPPC"

Cenario: Ofertar Cargas para o PC
Dado que acesso a tela "Programação", "Análise"
E clico no botão Cesta geral
E clico no botão Minha cesta
E filtro a cesta de viagem pelo pedido "PEDIDOPC01"
Entao verifico se a viagem está com o status "Distribuída"
E seleciono a viagem
E oferto a viagem
Entao verifico se a viagem está com o status "Ofertada (Aguardando)"
E seleciono a viagem
E cancelo a oferta da viagem

Cenario: Cancelar ofertas de Cargas para o PC
Dado que acesso a tela "Programação", "Análise"
E clico no botão Cesta geral
E clico no botão Minha cesta
E filtro a cesta de viagem pelo pedido "PEDIDOPC02"
E seleciono a viagem
E oferto a viagem
Entao verifico se a viagem está com o status "Ofertada (Aguardando)"
E seleciono a viagem
E cancelo a oferta da viagem
Entao verifico se a viagem está com o status "Oferta cancelada"

Cenario: Aceitar oferta de cargas
Dado que acesso a tela "Programação", "Análise"
E clico no botão Cesta geral
E clico no botão Minha cesta
E filtro a cesta de viagem pelo pedido "PEDIDOPC04"
E seleciono a viagem
E oferto a viagem
Entao verifico se a viagem está com o status "Ofertada (Aguardando)"
Dado que acesso a tela "Programação", "Partner collaboration"
E filtro a cesta de viagem pelo pedido "PEDIDOPC04"
E seleciono a viagem
E clico no botão Aceitar
E preencho o campo caminhão "DEP-1234"
E clico no botão "Salvar"
E na mensagem "Violações" clico no botão "Salvar"
E é exibido a mensagem "Edição feita com sucesso"
E clico no botão "OK"
E é exibido a mensagem "Operação realizada com sucesso."
E clico no botão "OK"
Dado que acesso a tela "Programação", "Análise"
E clico no botão Cesta geral
E clico no botão Minha cesta
E filtro a cesta de viagem pelo pedido "PEDIDOPC04"
Entao verifico se a viagem está com o status "Ofertada (Aceita)"
E seleciono a viagem
E cancelo a oferta da viagem

Cenario: Rejeitar oferta de cargas
Dado que acesso a tela "Programação", "Análise"
E clico no botão Cesta geral
E clico no botão Minha cesta
E filtro a cesta de viagem pelo pedido "PEDIDOPC05"
E seleciono a viagem
E oferto a viagem
Dado que acesso a tela "Programação", "Partner collaboration"
E filtro a cesta de viagem pelo pedido "PEDIDOPC05"
E seleciono a viagem
E clico no botão "Rejeitar"
E preencho a justificativa de rejeite "Automação teste de rejeite de oferta"
E clico no botão OK
E é exibido a mensagem "Viagem rejeitada com sucesso."
E clico no botão "OK"
Dado que acesso a tela "Programação", "Análise"
E clico no botão Cesta geral
E clico no botão Minha cesta
E filtro a cesta de viagem pelo pedido "PEDIDOPC05"
Entao verifico se a viagem está com o status "Ofertada (Recusada)"
E seleciono a viagem
E cancelo a oferta da viagem

Cenario: Placa Nova
Dado que acesso a tela "Programação", "Análise"
E clico no botão Cesta geral
E clico no botão Minha cesta
E filtro a cesta de viagem pelo pedido "PEDIDOPC06"
E seleciono a viagem
E oferto a viagem
Entao verifico se a viagem está com o status "Ofertada (Aguardando)"
Dado que acesso a tela "Programação", "Partner collaboration"
E filtro a cesta de viagem pelo pedido "PEDIDOPC06"
E seleciono a viagem
E clico no botão Aceitar
E clico no botão "Cadastrar caminhão"
E preencho o campo placa "ABC-1234"
E preencho o campo país do caminhão "Brasil"
E preencho o campo estado do caminhão "São Paulo"
E preencho o campo cidade do caminhão "Guarulhos"
E preencho o campo situação do caminhão "Agregado"
E preencho o campo veículo do caminhão "VEIDEPPC"
E na mensagem "Cadastro de caminhão" clico no botão "Salvar"
Entao é exibido a mensagem "A entidade foi salva com sucesso."
E clico no botão "OK"
E preencho o campo caminhão "ABC-1234"
E clico no botão "Salvar"
E na mensagem "Violações" clico no botão "Salvar"
E é exibido a mensagem "Edição feita com sucesso"
E clico no botão "OK"
E é exibido a mensagem "Operação realizada com sucesso."
E clico no botão "OK"
Dado que acesso a tela "Programação", "Análise"
E clico no botão Cesta geral
E clico no botão Minha cesta
E filtro a cesta de viagem pelo pedido "PEDIDOPC06"
Entao verifico se a viagem está com o status "Ofertada (Aceita)"
E seleciono a viagem
E cancelo a oferta da viagem
E que excluo o caminhão "ABC-1234"

Cenario: Placa existente
Dado que acesso a tela "Programação", "Análise"
E clico no botão Cesta geral
E clico no botão Minha cesta
E filtro a cesta de viagem pelo pedido "PEDIDOPC07"
E seleciono a viagem
E oferto a viagem
Entao verifico se a viagem está com o status "Ofertada (Aguardando)"
Dado que acesso a tela "Programação", "Partner collaboration"
E filtro a cesta de viagem pelo pedido "PEDIDOPC07"
E seleciono a viagem
E clico no botão Aceitar
E preencho o campo caminhão "DEP-1234"
E clico no botão "Salvar"
E na mensagem "Violações" clico no botão "Salvar"
E é exibido a mensagem "Edição feita com sucesso"
E clico no botão "OK"
E é exibido a mensagem "Operação realizada com sucesso."
E clico no botão "OK"
Dado que acesso a tela "Programação", "Análise"
E clico no botão Cesta geral
E clico no botão Minha cesta
E filtro a cesta de viagem pelo pedido "PEDIDOPC07"
Entao verifico se a viagem está com o status "Ofertada (Aceita)"
E seleciono a viagem
E cancelo a oferta da viagem

Cenario: Associar a Placa de veículo diferente o veículo original com sucesso
Dado que acesso a tela "Programação", "Análise"
E clico no botão Cesta geral
E clico no botão Minha cesta
E filtro a cesta de viagem pelo pedido "PEDIDOPC08"
E seleciono a viagem
E oferto a viagem
Entao verifico se a viagem está com o status "Ofertada (Aguardando)"
Dado que acesso a tela "Programação", "Partner collaboration"
E filtro a cesta de viagem pelo pedido "PEDIDOPC08"
E seleciono a viagem
E clico no botão Aceitar
E preencho o campo caminhão "DEP-1235"
E clico no botão "Salvar"
E é exibido a mensagem O veículo é diferente do esperado veículo da viagem
E na mensagem "Atenção" clico no botão "Aceitar"
E na mensagem "Violações" clico no botão "Salvar"
E é exibido a mensagem "Edição feita com sucesso"
E clico no botão "OK"
E é exibido a mensagem "Operação realizada com sucesso."
E clico no botão "OK"
Dado que acesso a tela "Programação", "Análise"
E clico no botão Cesta geral
E clico no botão Minha cesta
E filtro a cesta de viagem pelo pedido "PEDIDOPC08"
Entao verifico se a viagem está com o status "Ofertada (Aceita)"
E seleciono a viagem
E cancelo a oferta da viagem

Cenario: Envio de email para Oferta de Viagem
Dado que acesso a tela "Programação", "Análise"
E clico no botão Cesta geral
E clico no botão Minha cesta
E filtro a cesta de viagem pelo pedido "PEDIDOPC09"
E seleciono a viagem
E oferto a viagem
Entao verifico se a viagem está com o status "Ofertada (Aguardando)"

Cenario: Envio de email para Cancelamento de Oferta de Viagem
Dado que acesso a tela "Programação", "Análise"
E clico no botão Cesta geral
E clico no botão Minha cesta
E filtro a cesta de viagem pelo pedido "PEDIDOPC09"
E seleciono a viagem
E cancelo a oferta da viagem
Entao verifico se a viagem está com o status "Oferta cancelada"

Cenario: Envio de email para Atribuição de Transportadora no fluxo de Oferta seguido de Rejeite de Oferta de Viagem
Dado que acesso a tela "Programação", "Análise"
E clico no botão Cesta geral
E clico no botão Minha cesta
E filtro a cesta de viagem pelo pedido "PEDIDOPC09"
E seleciono a viagem
E oferto a viagem
Entao verifico se a viagem está com o status "Ofertada (Aguardando)"
Dado que acesso a tela "Programação", "Partner collaboration"
E filtro a cesta de viagem pelo pedido "PEDIDOPC09"
E seleciono a viagem
E clico no botão "Rejeitar"
E preencho a justificativa de rejeite "Automação teste de rejeite de oferta"
E clico no botão OK
Entao é exibido a mensagem "Viagem rejeitada com sucesso."
E clico no botão OK

Cenario: Envio de email para Atribuição de Transportadora no fluxo de Oferta seguido de Rejeite de Oferta de Viagem
Dado que acesso a tela "Programação", "Análise"
E clico no botão Cesta geral
E clico no botão Minha cesta
E filtro a cesta de viagem pelo pedido "PEDIDOPC09"
Entao verifico se a viagem está com o status "Ofertada (Recusada)"
E atribuo a viagem para a transportadora "TRANDEPPC02"
E informo o motivo premium com "Automação atribuição de oferta"
E clico no botão "Salvar"
E na mensagem "Violações" clico no botão "Salvar"
Entao é exibido a mensagem "Atribuição feita com sucesso"
E verifico se a viagem está com o status "Ofertada (Atribuída)"
E clico no botão "OK"
E seleciono a viagem
E cancelo a oferta da viagem

Cenario: Aceitar viagem sem informar a placa do caminhão obrigatória - sem sucesso
Dado que ligo a obrigatoriedade da placa do caminhão no aceite de viagens
Dado que acesso a tela "Programação", "Análise"
E clico no botão Cesta geral
E clico no botão Minha cesta
E filtro a cesta de viagem pelo pedido "PEDIDOPC19"
E seleciono a viagem
E oferto a viagem
Entao verifico se a viagem está com o status "Ofertada (Aguardando)"
Dado que acesso a tela "Programação", "Partner collaboration"
E filtro a cesta de viagem pelo pedido "PEDIDOPC19"
E seleciono a viagem
E clico no botão Aceitar
E clico no botão "Salvar"
E é exibido a mensagem "O caminhão informado não existe, ou não foi preenchido."
E clico no botão "OK"
E clico no botão "Cancelar"
Dado que acesso a tela "Programação", "Análise"
E clico no botão Cesta geral
E clico no botão Minha cesta
E filtro a cesta de viagem pelo pedido "PEDIDOPC19"
Entao verifico se a viagem está com o status "Ofertada (Aguardando)"
E seleciono a viagem
E cancelo a oferta da viagem

Cenario: Atribuir transportadora à viagem Rejeitada sem preencher motivo premium (obrigatório) - sem sucesso
Dado que a justificativa de atribuição de viagem é obrigatória
Dado que acesso a tela "Programação", "Análise"
E clico no botão Cesta geral
E clico no botão Minha cesta
E filtro a cesta de viagem pelo pedido "PEDIDOPC20"
E seleciono a viagem
E oferto a viagem
Dado que acesso a tela "Programação", "Partner collaboration"
E filtro a cesta de viagem pelo pedido "PEDIDOPC20"
E seleciono a viagem
E clico no botão "Rejeitar"
E preencho a justificativa de rejeite "Automação teste de rejeite de oferta"
E clico no botão OK
E é exibido a mensagem "Viagem rejeitada com sucesso."
E clico no botão "OK"
Dado que acesso a tela "Programação", "Análise"
E clico no botão Cesta geral
E clico no botão Minha cesta
E filtro a cesta de viagem pelo pedido "PEDIDOPC20"
Entao verifico se a viagem está com o status "Ofertada (Recusada)"
E seleciono a viagem
E atribuo a viagem para a transportadora "TRANDEPPC02"
E clico no botão Salvar
Entao é exibido a mensagem "Justificativa não pode ser nula"
E clico no botão "OK"
E clico no botão Cancelar
E cancelo a oferta da viagem

Cenario: Atribuir transportadora à viagem Rejeitada motivo premium (obrigatório) - com sucesso
Dado que a justificativa de atribuição de viagem é obrigatória
Dado que acesso a tela "Programação", "Análise"
E clico no botão Cesta geral
E clico no botão Minha cesta
E filtro a cesta de viagem pelo pedido "PEDIDOPC22"
E seleciono a viagem
E oferto a viagem
Dado que acesso a tela "Programação", "Partner collaboration"
E filtro a cesta de viagem pelo pedido "PEDIDOPC22"
E seleciono a viagem
E clico no botão "Rejeitar"
E preencho a justificativa de rejeite "Automação teste de rejeite de oferta"
E clico no botão OK
E é exibido a mensagem "Viagem rejeitada com sucesso."
E clico no botão "OK"
Dado que acesso a tela "Programação", "Análise"
E clico no botão Cesta geral
E clico no botão Minha cesta
E filtro a cesta de viagem pelo pedido "PEDIDOPC22"
Entao verifico se a viagem está com o status "Ofertada (Recusada)"
E seleciono a viagem
E atribuo a viagem para a transportadora "TRANDEPPC02"
E informo o motivo premium com "Automação atribuição de oferta"
E clico no botão Salvar
E na mensagem "Violações" clico no botão "Salvar"
Entao é exibido a mensagem "Atribuição feita com sucesso"

Cenario: Rejeitar oferta de cargas - pool de oferta
Dado que o pool de oferta está ligado
Dado que acesso a tela "Programação", "Análise"
E clico no botão Cesta geral
E clico no botão Minha cesta
E filtro a cesta de viagem pelo pedido "PEDIDOPC23"
E seleciono a viagem
E oferto a viagem
Dado que acesso a tela "Programação", "Partner collaboration"
E filtro a cesta de viagem pelo pedido "PEDIDOPC23"
E seleciono a viagem
E clico no botão "Rejeitar"
E preencho a justificativa de rejeite "Automação teste de rejeite de oferta"
E clico no botão OK
E é exibido a mensagem "Viagem rejeitada com sucesso."
E clico no botão "OK"
Dado que acesso a tela "Programação", "Análise"
E clico no botão Cesta geral
E clico no botão Minha cesta
E filtro a cesta de viagem pelo pedido "PEDIDOPC23"
Entao verifico se a viagem está com o status "Ofertada (pool)"
E seleciono a viagem
E cancelo a oferta da viagem

Cenario: Aceitar oferta de cargas - pool de oferta
Dado que altero a execução da task "TripOfferPoolFinalizerTask" para unidade de dias e usuário "Neolog"
E que o pool de oferta está ligado
Quando que acesso a tela "Programação", "Análise"
E clico no botão Cesta geral
E clico no botão Minha cesta
E filtro a cesta de viagem pelo pedido "PEDIDOPC24"
E seleciono a viagem
E oferto a viagem
Dado que acesso a tela "Programação", "Partner collaboration"
E filtro a cesta de viagem pelo pedido "PEDIDOPC24"
E seleciono a viagem
E clico no botão "Rejeitar"
E preencho a justificativa de rejeite "Automação teste de rejeite de oferta"
E clico no botão OK
E é exibido a mensagem "Viagem rejeitada com sucesso."
E clico no botão "OK"
Quando filtro a cesta de viagem pelo pedido "PEDIDOPC24"
E seleciono a viagem
E aceito a viagem ofertada no pool com a transportadora "TRANDEPPC02" e caminhão "DEP-1235"
E finalizo o pool de oferta
Dado que acesso a tela "Programação", "Análise"
E clico no botão Cesta geral
E clico no botão Minha cesta
E filtro a cesta de viagem pelo pedido "PEDIDOPC24"
Entao verifico se a viagem está com o status "Ofertada (Aceita do pool)"
E seleciono a viagem
E cancelo a oferta da viagem

Cenario: Rejeitar viagem após finalizar pool pela task TripOfferPoolFinalizerTask
Dado que o pool de oferta está ligado
Dado que acesso a tela "Programação", "Análise"
E clico no botão Cesta geral
E clico no botão Minha cesta
E filtro a cesta de viagem pelo pedido "PEDIDOPC21"
E seleciono a viagem
E oferto a viagem
Dado que acesso a tela "Programação", "Partner collaboration"
E filtro a cesta de viagem pelo pedido "PEDIDOPC21"
E seleciono a viagem
E clico no botão "Rejeitar"
E preencho a justificativa de rejeite "Automação teste de rejeite de oferta"
E clico no botão OK
E é exibido a mensagem "Viagem rejeitada com sucesso."
E clico no botão "OK"
Dado que acesso a tela "Configuração", "Tarefas de background"
E executo a task "TripOfferPoolFinalizerTask"
Dado que acesso a tela "Programação", "Análise"
E clico no botão Cesta geral
E clico no botão Minha cesta
E filtro a cesta de viagem pelo pedido "PEDIDOPC21"
Entao verifico se a viagem está com o status "Ofertada (Recusada pelo pool)"
E seleciono a viagem
E cancelo a oferta da viagem

Cenario: Excluir dependências
Dado que excluo a viagem "PEDIDOPC01"
Dado que excluo a viagem "PEDIDOPC02"
Dado que excluo a viagem "PEDIDOPC04"
Dado que excluo a viagem "PEDIDOPC05"
Dado que excluo a viagem "PEDIDOPC06"
Dado que excluo a viagem "PEDIDOPC07"
Dado que excluo a viagem "PEDIDOPC08"
Dado que excluo a viagem "PEDIDOPC09"
Dado que excluo a viagem "PEDIDOPC18"
Dado que excluo a viagem "PEDIDOPC19"
Dado que excluo a viagem "PEDIDOPC20"
Dado que excluo a viagem "PEDIDOPC21"
Dado que excluo a viagem "PEDIDOPC22"
Dado que excluo a viagem "PEDIDOPC23"
Dado que excluo a viagem "PEDIDOPC24"
Dado que excluo a viagem "PEDIDOPC25"
Dado que excluo o pedido "PEDIDOPC01"
Dado que excluo o pedido "PEDIDOPC02"
Dado que excluo o pedido "PEDIDOPC04"
Dado que excluo o pedido "PEDIDOPC05"
Dado que excluo o pedido "PEDIDOPC06"
Dado que excluo o pedido "PEDIDOPC07"
Dado que excluo o pedido "PEDIDOPC08"
Dado que excluo o pedido "PEDIDOPC09"
Dado que excluo o pedido "PEDIDOPC18"
Dado que excluo o pedido "PEDIDOPC19"
Dado que excluo o pedido "PEDIDOPC20"
Dado que excluo o pedido "PEDIDOPC21"
Dado que excluo o pedido "PEDIDOPC22"
Dado que excluo o pedido "PEDIDOPC23"
Dado que excluo o pedido "PEDIDOPC24"
Dado que excluo o pedido "PEDIDOPC25"
Dado que excluo o produto "PRODDEPPC"
Dado que excluo o invólucro "INVDEPPC"
Dado que excluo o tipo de pedido "TIPOPEDDEPPC"
Dado que excluo o tipo de item de pedido "TIPITEDEPPC"
Dado que excluo a zona de transporte "ZTDEPPC"
Dado que excluo o embarcador "EMBDEPPC"
Dado que excluo a transportadora "TRANDEPPC"
Dado que excluo a transportadora "TRANDEPPC02"
Dado que excluo o caminhão "DEP-1234"
Dado que excluo o caminhão "DEP-1235"
Dado que excluo o veículo "VEIDEPPC"
Dado que excluo o veículo "VEIDEPPC02"
Dado que excluo o calculador de tipo de serviço "CALCTIPOSERDEPPC"
Dado que excluo o calculador de frete viagem "CALFREVIAGEMDEPPC"
Dado que excluo o agrupador de zt "AZTDEPPC"
Dado que excluo a localidade "ORIDEPPC"
Dado que excluo a localidade "DESTDEPPC"
Dado que excluo a localidade "HUBDESDEPPC"
Dado que excluo a restrição de localidade "RESLOCDEPPC"
Dado que excluo a categoria de produto "CATPRODDEPPC"
Dado que excluo a justificativa "Automação teste de rejeite de oferta"
Dado que excluo a justificativa "Automação atribuição de oferta"
Dado que que adiciono ao contexto "Default" o pré-validador de operação manual hard "Localidades sem configuração de Zona de Transporte" com a ordem "2"