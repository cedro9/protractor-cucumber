#language:pt

@GTF-Agro
@OperaçãoManualGTF-Agro

Funcionalidade: Operação Manual GTF

Cenario: Cadastro de Dependências
Dado que cadastro o tipo de serviço "TIPOSERVDEPDOCAAgro"
Dado que cadastro a entidade "ENTIDADEOPM1Agro"
Dado que cadastro a entidade "ENTIDADEOPM2Agro"
Dado que cadastro o agrupador de zt "ZONATRANSPOPMAgro"
Dado que cadastro a restrição de localidade "RESLOCDEPGTFAgro"
Dado que cadastro a zona de transporte "ZONATRANSP1OPMAgro" com a cidade "São Paulo" do agrupador "ZONATRANSPOPMAgro" com a restrição de localidade "RESLOCDEPGTFAgro" e prioridade "1"
Dado que cadastro o calculador de frete viagem "CALCFRETVIAGEMOPMAgro"
Dado que cadastro o calculador de tipo de serviço "CALCTIPODESERVOPMAgro" com o agrupador de zona de transporte "ZONATRANSPOPMAgro"
Dado que cadastro o tipo de pedido "TIPOPEDIDODEPOPMAgro"
Dado que cadastro o tipo de item de pedido "TIPOITEMDEPOPMAgro"
# Dado que cadastro a restrição de localidade "RESTLOCDEP-OPM"
Dado que cadastro a origem "LOCORIGEMDEPOPMAgro" com a restrição de localidade "Padrao" e Cep "08061-020" 
Dado que cadastro o destino "LOCDESTDEPOPMAgro" com a restrição de localidade "Padrao" e Cep "08061-020"
Dado que cadastro a origem "LOCORIGEMDEPOPM2Agro" com a restrição de localidade "Padrao" e Cep "08061-020" 
Dado que cadastro o destino "LOCDESTDEPOPM2Agro" com a restrição de localidade "Padrao" e Cep "08061-020"
Dado que cadastro o hub de destino "LOCDESTHUBDEPOPMAgro" com a restrição de localidade "Padrao" e Cep "08061-020" 
Dado que cadastro o hub de destino "LOCDESTHUBDEPOPM2Agro" com a restrição de localidade "Padrao" e Cep "08412-000" 
Dado que cadastro o hub de passagem "LOCPASSHUBDEPOPMAgro" com a restrição de localidade "Padrao" e Cep "08061-020" 
Dado que cadastro a categoria de produto "CATPRODDEP01OPMAgro"
Dado que cadastro o embarcador "EMBDEP01OPMAgro"
Dado que cadastro o produto "PRODDEP01OPMAgro" com a categoria "CATPRODDEP01OPMAgro" e embarcador "EMBDEP01OPMAgro"
Dado que cadastro o invólucro "INVDEP01OPMAgro" com politicas definidas no produto
Dado que cadastro o veículo "VEICULODEPOPM1Agro", com "2,5" de largura, "14,00" de comprimento e "2,80" de altura
Dado que cadastro o veículo "VEICULODEPOPM2Agro", com "2,5" de largura, "10,00" de comprimento e "2,80" de altura
Dado que cadastro a transportadora "TRANSPORTADORAOPM1Agro" para o calaculador de tipo de serviço "CALCTIPODESERVOPMAgro", agrupador zona de transporte "ZONATRANSPOPMAgro", grupo logístico "ZONATRANSPOPMAgro" e calculador de frete viagem "CALCFRETVIAGEMOPMAgro"
Dado que cadastro a transportadora "TRANSPORTADORAOPM2Agro" para o calaculador de tipo de serviço "CALCTIPODESERVOPMAgro", agrupador zona de transporte "ZONATRANSPOPMAgro", grupo logístico "ZONATRANSPOPMAgro" e calculador de frete viagem "CALCFRETVIAGEMOPMAgro"
Dado que cadastro o caminhão "OPM-1111" do veículo "VEICULODEPOPM1Agro" da transportadora "TRANSPORTADORAOPM1Agro"
Dado que cadastro o caminhão "OPM-3333" do veículo "VEICULODEPOPM1Agro" da transportadora "TRANSPORTADORAOPM1Agro"
Dado que cadastro o caminhão "OPM-2222" do veículo "VEICULODEPOPM2Agro" da transportadora "TRANSPORTADORAOPM2Agro"
Dado que cadastro o caminhão "OPM-4444" do veículo "VEICULODEPOPM2Agro" da transportadora "TRANSPORTADORAOPM2Agro"
Dado que cadastro o pedido "PEDIDO01-OPM0" do embarcador "EMBDEP01OPMAgro" tipo de pedido "TIPOPEDIDODEPOPMAgro" destino "LOCDESTDEPOPMAgro" origem "LOCORIGEMDEPOPMAgro" produto "PRODDEP01OPMAgro" item de pedido "TIPOITEMDEPOPMAgro" e invólucro "INVDEP01OPMAgro" e Hub de destino "LOCDESTHUBDEPOPMAgro"
Dado que cadastro o pedido "PEDIDO01-OPM1" do embarcador "EMBDEP01OPMAgro" tipo de pedido "TIPOPEDIDODEPOPMAgro" destino "LOCDESTDEPOPMAgro" origem "LOCORIGEMDEPOPMAgro" produto "PRODDEP01OPMAgro" item de pedido "TIPOITEMDEPOPMAgro" e invólucro "INVDEP01OPMAgro" e Hub de destino "LOCDESTHUBDEPOPMAgro"
Dado que cadastro o pedido "PEDIDO01-OPM2" do embarcador "EMBDEP01OPMAgro" tipo de pedido "TIPOPEDIDODEPOPMAgro" destino "LOCDESTDEPOPMAgro" origem "LOCORIGEMDEPOPMAgro" produto "PRODDEP01OPMAgro" item de pedido "TIPOITEMDEPOPMAgro" e invólucro "INVDEP01OPMAgro" e Hub de destino "LOCDESTHUBDEPOPMAgro"
Dado que cadastro o pedido "PEDIDO01-OPM3" do embarcador "EMBDEP01OPMAgro" tipo de pedido "TIPOPEDIDODEPOPMAgro" destino "LOCDESTDEPOPMAgro" origem "LOCORIGEMDEPOPMAgro" produto "PRODDEP01OPMAgro" item de pedido "TIPOITEMDEPOPMAgro" e invólucro "INVDEP01OPMAgro" e Hub de destino "LOCDESTHUBDEPOPMAgro"
Dado que cadastro o pedido "PEDIDO01-OPM4" do embarcador "EMBDEP01OPMAgro" tipo de pedido "TIPOPEDIDODEPOPMAgro" destino "LOCDESTDEPOPMAgro" origem "LOCORIGEMDEPOPMAgro" produto "PRODDEP01OPMAgro" item de pedido "TIPOITEMDEPOPMAgro" e invólucro "INVDEP01OPMAgro" e Hub de destino "LOCDESTHUBDEPOPMAgro"
Dado que cadastro o pedido "PEDIDO01-OPM5" do embarcador "EMBDEP01OPMAgro" tipo de pedido "TIPOPEDIDODEPOPMAgro" destino "LOCDESTDEPOPMAgro" origem "LOCORIGEMDEPOPMAgro" produto "PRODDEP01OPMAgro" item de pedido "TIPOITEMDEPOPMAgro" e invólucro "INVDEP01OPMAgro" e Hub de destino "LOCDESTHUBDEPOPMAgro"
Dado que cadastro o pedido "PEDIDO01-OPM6" do embarcador "EMBDEP01OPMAgro" tipo de pedido "TIPOPEDIDODEPOPMAgro" destino "LOCDESTDEPOPMAgro" origem "LOCORIGEMDEPOPMAgro" produto "PRODDEP01OPMAgro" item de pedido "TIPOITEMDEPOPMAgro" e invólucro "INVDEP01OPMAgro" e Hub de destino "LOCDESTHUBDEPOPMAgro"
Dado que cadastro o pedido "PEDIDO01-OPM7" do embarcador "EMBDEP01OPMAgro" tipo de pedido "TIPOPEDIDODEPOPMAgro" destino "LOCDESTDEPOPMAgro" origem "LOCORIGEMDEPOPMAgro" produto "PRODDEP01OPMAgro" item de pedido "TIPOITEMDEPOPMAgro" e invólucro "INVDEP01OPMAgro" e Hub de destino "LOCDESTHUBDEPOPMAgro"
Dado que cadastro o pedido "PEDIDO01-OPM8" do embarcador "EMBDEP01OPMAgro" tipo de pedido "TIPOPEDIDODEPOPMAgro" destino "LOCDESTDEPOPMAgro" origem "LOCORIGEMDEPOPMAgro" produto "PRODDEP01OPMAgro" item de pedido "TIPOITEMDEPOPMAgro" e invólucro "INVDEP01OPMAgro" e Hub de destino "LOCDESTHUBDEPOPMAgro"
Dado que cadastro o pedido "PEDIDO01-OPM9" do embarcador "EMBDEP01OPMAgro" tipo de pedido "TIPOPEDIDODEPOPMAgro" destino "LOCDESTDEPOPMAgro" origem "LOCORIGEMDEPOPMAgro" produto "PRODDEP01OPMAgro" item de pedido "TIPOITEMDEPOPMAgro" e invólucro "INVDEP01OPMAgro" e Hub de destino "LOCDESTHUBDEPOPMAgro"
Dado que cadastro o pedido "PEDIDO01-OPM10" do embarcador "EMBDEP01OPMAgro" tipo de pedido "TIPOPEDIDODEPOPMAgro" destino "LOCDESTDEPOPMAgro" origem "LOCORIGEMDEPOPMAgro" produto "PRODDEP01OPMAgro" item de pedido "TIPOITEMDEPOPMAgro" e invólucro "INVDEP01OPMAgro" e Hub de destino "LOCDESTHUBDEPOPMAgro"
Dado que cadastro o pedido "PEDIDO01-OPM11" do embarcador "EMBDEP01OPMAgro" tipo de pedido "TIPOPEDIDODEPOPMAgro" destino "LOCDESTDEPOPMAgro" origem "LOCORIGEMDEPOPMAgro" produto "PRODDEP01OPMAgro" item de pedido "TIPOITEMDEPOPMAgro" e invólucro "INVDEP01OPMAgro" e Hub de destino "LOCDESTHUBDEPOPMAgro"
Dado que cadastro o pedido "PEDIDO01-OPM12" do embarcador "EMBDEP01OPMAgro" tipo de pedido "TIPOPEDIDODEPOPMAgro" destino "LOCDESTDEPOPMAgro" origem "LOCORIGEMDEPOPMAgro" produto "PRODDEP01OPMAgro" item de pedido "TIPOITEMDEPOPMAgro" e invólucro "INVDEP01OPMAgro" e Hub de destino "LOCDESTHUBDEPOPMAgro"
Dado que cadastro o pedido "PEDIDO01-OPM13" do embarcador "EMBDEP01OPMAgro" tipo de pedido "TIPOPEDIDODEPOPMAgro" destino "LOCDESTDEPOPMAgro" origem "LOCORIGEMDEPOPMAgro" produto "PRODDEP01OPMAgro" item de pedido "TIPOITEMDEPOPMAgro" e invólucro "INVDEP01OPMAgro" e Hub de destino "LOCDESTHUBDEPOPMAgro"
Dado que cadastro o pedido "PEDIDO01-OPM14" do embarcador "EMBDEP01OPMAgro" tipo de pedido "TIPOPEDIDODEPOPMAgro" destino "LOCDESTDEPOPMAgro" origem "LOCORIGEMDEPOPMAgro" produto "PRODDEP01OPMAgro" item de pedido "TIPOITEMDEPOPMAgro" e invólucro "INVDEP01OPMAgro" e Hub de destino "LOCDESTHUBDEPOPMAgro"
Dado que cadastro o pedido "PEDIDO01-OPM15" do embarcador "EMBDEP01OPMAgro" tipo de pedido "TIPOPEDIDODEPOPMAgro" destino "LOCDESTDEPOPM2Agro" origem "LOCORIGEMDEPOPMAgro" produto "PRODDEP01OPMAgro" item de pedido "TIPOITEMDEPOPMAgro" e invólucro "INVDEP01OPMAgro" e Hub de destino "LOCDESTHUBDEPOPMAgro"
Dado que cadastro a viagem para o pedido "PEDIDO01-OPM3" com a transportadora "TRANSPORTADORAOPM1Agro" e veículo "VEICULODEPOPM1Agro"
Dado que cadastro a viagem para o pedido "PEDIDO01-OPM4" com a transportadora "TRANSPORTADORAOPM1Agro" e veículo "VEICULODEPOPM1Agro"
# Dado que cadastro a viagem para o pedido "PEDIDO01-OPM5" com a transportadora "TRANSPORTADORAOPM1Agro" e veículo "VEICULODEPOPM1Agro"
Dado que cadastro a viagem para o pedido "PEDIDO01-OPM6" com a transportadora "TRANSPORTADORAOPM1Agro" e veículo "VEICULODEPOPM1Agro"
Dado que cadastro a viagem para o pedido "PEDIDO01-OPM7" com a transportadora "TRANSPORTADORAOPM1Agro" e veículo "VEICULODEPOPM1Agro"
Dado que cadastro a viagem para o pedido "PEDIDO01-OPM8" com a transportadora "TRANSPORTADORAOPM1Agro" e veículo "VEICULODEPOPM1Agro"
Dado que cadastro a viagem para o pedido "PEDIDO01-OPM9" com a transportadora "TRANSPORTADORAOPM1Agro" e veículo "VEICULODEPOPM1Agro"
Dado que cadastro a viagem para o pedido "PEDIDO01-OPM10" com a transportadora "TRANSPORTADORAOPM1Agro" e veículo "VEICULODEPOPM1Agro"
Dado que cadastro a viagem para o pedido "PEDIDO01-OPM11" com a transportadora "TRANSPORTADORAOPM1Agro" e veículo "VEICULODEPOPM1Agro"
Dado que cadastro a viagem para o pedido "PEDIDO01-OPM12" com a transportadora "TRANSPORTADORAOPM1Agro" e veículo "VEICULODEPOPM1Agro"
Dado que cadastro a viagem para o pedido "PEDIDO01-OPM13" com a transportadora "TRANSPORTADORAOPM1Agro" e veículo "VEICULODEPOPM1Agro"
Dado que cadastro a viagem para o pedido "PEDIDO01-OPM14" com a transportadora "TRANSPORTADORAOPM1Agro" e veículo "VEICULODEPOPM1Agro"
# Dado que adiciono ao contexto de otimização o validador de seleção de operação manual "Transportadoras permitidas por origem e localidade ou origem e zt"
Dado que adiciono a transportadora "TRANSPORTADORAOPM2Agro" e a origem "LOCORIGEMDEPOPMAgro" no parâmetro "Transportadoras permitidas por origem e localidade/zt"
# Dado que altero o seletor de veículo para "Seletor - Menor volume de veículo"

Cenario: Edição de Pedidos - Alterar Destino
Dado que acesso a tela "Programação", "Seleção"
Quando realizo o filtro da Cesta de Pedido com o codigo "PEDIDO01-OPM0"
Quando oculto a cesta de viagens
Quando clico para ser exibido 50 registros
Quando Seleciono o pedido "PEDIDO01-OPM0" da Cesta de Pedidos
E clico no botão Mover Pedidos
Quando seleciono o usuario Logado
Entao é exibido a mensagem "Movimentação de pedidos efetuada com sucesso."
E clico no botão OK
Dado que acesso a tela "Programação", "Análise"
Dado que desabilito a exibiçao da Cesta Geral e Viagens
Quando filtro a cesta do usuário pelo pedido "PEDIDO01-OPM0"
Quando seleciono o pedido "PEDIDO01-OPM0" na cesta do usuário
Quando Clico no botão Unidade de Transporte e Alterar Destinos
Quando altero o destino para "LOCDESTHUBDEPOPMAgro"
Quando clico no botão salvar e uso o contexto de otimização padrão
E na mensagem "Violações" clico no botão "Salvar"
Entao é exibido a mensagem "Edição feita com sucesso"
E clico no botão OK
Quando na cesta do usuario clico para expandir o pedido
Quando na cesta do usuario clico para exibir os detalhes da UT "PEDIDO01-OPM0/1"
Entao valido se o destino é o "LOCDESTHUBDEPOPMAgro"
Quando filtro a cesta do usuário pelo pedido "PEDIDO01-OPM0"
Quando seleciono o pedido "PEDIDO01-OPM0" na cesta do usuário
Quando Clico no botão Unidade de Transporte e Alterar Destinos
Quando altero o destino para "Destino"
Quando clico no botão salvar e uso o contexto de otimização padrão
E na mensagem "Violações" clico no botão "Salvar"
E clico no botão OK
Quando seleciono o pedido "PEDIDO01-OPM0" na cesta do usuário
E clico no botão Mover para cesta Geral

Cenario: Edição de Pedidos - Alterar destino para Hub de destino do pedido
Dado que acesso a tela "Programação", "Seleção"
Quando realizo o filtro da Cesta de Pedido com o codigo "PEDIDO01-OPM1"
Quando oculto a cesta de viagens
Quando clico para ser exibido 50 registros
Quando Seleciono o pedido "PEDIDO01-OPM1" da Cesta de Pedidos
E clico no botão Mover Pedidos
Quando seleciono o usuario "regional.Agro"
Entao é exibido a mensagem "Movimentação de pedidos efetuada com sucesso."
E clico no botão OK
Dado que acesso a tela "Programação", "Análise"
Dado que desabilito a exibiçao da Cesta Geral e Viagens
Quando filtro a cesta do usuário pelo pedido "PEDIDO01-OPM1"
Quando seleciono o pedido "PEDIDO01-OPM1" na cesta do usuário
Quando Clico no botão Unidade de Transporte e Alterar Destinos
Quando altero o destino para "Hub de destino mais proximo (Possíveis do pedido)"
Quando clico no botão salvar e uso o contexto de otimização padrão
E na mensagem "Violações" clico no botão "Salvar"
Entao é exibido a mensagem "Edição feita com sucesso"
E clico no botão OK
Quando na cesta do usuario clico para expandir o pedido
Quando na cesta do usuario clico para exibir os detalhes da UT "PEDIDO01-OPM1/1"
Entao valido se o destino é o "LOCDESTHUBDEPOPMAgro"
Quando seleciono o pedido "PEDIDO01-OPM1" na cesta do usuário
E clico no botão Mover para cesta Geral

Cenario: Edição de Pedidos - Alterar destino para Hub de destino selecionado
Dado que acesso a tela "Programação", "Seleção"
Quando realizo o filtro da Cesta de Pedido com o codigo "PEDIDO01-OPM2"
Quando oculto a cesta de viagens
Quando clico para ser exibido 50 registros
Quando Seleciono o pedido "PEDIDO01-OPM2" da Cesta de Pedidos
E clico no botão Mover Pedidos
Quando seleciono o usuario "regional.Agro"
Entao é exibido a mensagem "Movimentação de pedidos efetuada com sucesso."
E clico no botão OK
Dado que acesso a tela "Programação", "Análise"
Dado que desabilito a exibiçao da Cesta Geral e Viagens
Quando filtro a cesta do usuário pelo pedido "PEDIDO01-OPM2"
Quando seleciono o pedido "PEDIDO01-OPM2" na cesta do usuário
Quando Clico no botão Unidade de Transporte e Alterar Destinos
Quando altero o destino para "Hub de destino mais proximo (Todos os cadastrados)"
Quando clico no botão salvar e uso o contexto de otimização padrão
E na mensagem "Violações" clico no botão "Salvar"
Entao é exibido a mensagem "Edição feita com sucesso"
E clico no botão OK
Quando na cesta do usuario clico para expandir o pedido
Quando na cesta do usuario clico para exibir os detalhes da UT "PEDIDO01-OPM2/1"
Entao valido se o destino é o "LOCDESTHUBDEPOPMAgro"
Quando seleciono o pedido "PEDIDO01-OPM2" na cesta do usuário
E clico no botão Mover para cesta Geral

Cenario: Edição de Viagem - Alterar Veículo selecionando campos Manualmente
Dado que acesso a tela "Programação", "Análise"
Quando clico no botão Cesta geral
Quando clico no botão Minha cesta
Quando filtro a cesta de viagem pelo pedido "PEDIDO01-OPM3"
Quando clico em edição de viagem
Quando altero o veiculo para "VEICULODEPOPM2Agro"
E clico no botão "Salvar"
E na mensagem "Violações" clico no botão "Salvar"
Entao é exibido a mensagem "Edição feita com sucesso"
E clico no botão OK
Entao o veiculo "VEICULODEPOPM2Agro" é exibido para a viagem alterada
Quando clico em edição de viagem
Quando altero o veiculo para "VEICULODEPOPM1Agro"
E clico no botão "Salvar"
E na mensagem "Violações" clico no botão "Salvar"
Entao é exibido a mensagem "Edição feita com sucesso"
E clico no botão OK

Cenario: Edição de Viagem - Alterar transportadora selecionando campos Manualmente
Dado que acesso a tela "Programação", "Análise"
Quando clico no botão Cesta geral
Quando clico no botão Minha cesta
Quando filtro a cesta de viagem pelo pedido "PEDIDO01-OPM4"
Quando clico em edição de viagem
Quando altero a transportadora para "TRANSPORTADORAOPM2Agro"
E clico no botão "Salvar"
E na mensagem "Violações" clico no botão "Salvar"
Entao é exibido a mensagem "Edição feita com sucesso"
E clico no botão OK
Entao a transportadora "TRANSPORTADORAOPM2Agro" é exibido para a viagem alterada
Quando clico em edição de viagem
Quando altero a transportadora para "TRANSPORTADORAOPM1Agro"
E clico no botão "Salvar"
E na mensagem "Violações" clico no botão "Salvar"
Entao é exibido a mensagem "Edição feita com sucesso"
E clico no botão OK

Cenario: Edição de Viagem - Alterar Paradas
Dado que acesso a tela "Programação", "Análise"
Quando filtro a cesta geral pelo pedido "PEDIDO01-OPM15,PEDIDO01-OPM5"
Quando seleciono o pedido "PEDIDO01-OPM15" na cesta geral
Quando seleciono o pedido "PEDIDO01-OPM5" na cesta geral
E clico no botão Mover pedidos para Minha Cesta
Quando filtro a cesta do usuário pelo pedido "PEDIDO01-OPM15,PEDIDO01-OPM5"
Quando seleciono o pedido "PEDIDO01-OPM5" na cesta do usuário
Quando clico em Mover selação aqui na cesta de viagem
E clico no botão OK
E na mensagem "Violações" clico no botão "Salvar"
Quando seleciono o pedido "PEDIDO01-OPM15" na cesta do usuário
Quando clico no botão Cesta geral
Quando filtro a cesta de viagem pelo pedido "PEDIDO01-OPM5"
Quando expando o header da viagem
Quando clico em Mover selação aqui da carga
E clico no botão OK
E na mensagem "Violações" clico no botão "Salvar"
Quando clico no botão Minha cesta
Quando na viagem clico em alterar paradas
Quando seleciono a parada "LOCDESTDEPOPM2Agro - São Paulo (SP)"
E clico para subir a parada ao topo da lista
Quando clico no botão salvar e uso o contexto de otimização padrão
E na mensagem "Violações" clico no botão "Salvar"
Entao é exibido a mensagem "Manipulação de paradas realizada com sucesso."
E clico no botão "OK"
Quando clico em Expandir todos os níveis da viagem
E clico no botão detalhe da UT do pedido "PEDIDO01-OPM15"
Entao deve exibir o  destino "LOCDESTDEPOPM2Agro" no detalhe da UT
Quando seleciono a viagem
Quando cancelo a viagem
Quando clico no botão Minha cesta
Quando seleciono o pedido "PEDIDO01-OPM15" na cesta do usuário
Quando seleciono o pedido "PEDIDO01-OPM5" na cesta do usuário
E clico no botão Mover para cesta Geral

Cenario: Edição da Carga - Alterar Tipo de Serviço
Dado que acesso a tela "Programação", "Análise"
Quando clico no botão Cesta geral
Quando clico no botão Minha cesta
Quando filtro a cesta de viagem pelo pedido "PEDIDO01-OPM6"
Quando expando o header da viagem
Quando clico em edição da carga
Quando altero o Tipo de serviço para "TIPOSERVDEPDOCAAgro"
E clico no botão "Salvar"
E na mensagem "Violações" clico no botão "Salvar"
Entao é exibido a mensagem "Edição feita com sucesso"
E clico no botão OK
Quando expando o header da viagem
Quando clico no botão detalhes da carga
Quando verifico o tipo de serviço da carga "TIPOSERVDEPDOCAAgro"
Quando clico em edição da carga
Quando altero o Tipo de serviço para "Frete Peso"
E clico no botão "Salvar"
E na mensagem "Violações" clico no botão "Salvar"
Entao é exibido a mensagem "Edição feita com sucesso"
E clico no botão OK

Cenario: Edição de Viagem - Alterar Classificações
Dado que acesso a tela "Programação", "Análise"
Quando clico no botão Cesta geral
Quando clico no botão Minha cesta
Quando filtro a cesta de viagem pelo pedido "PEDIDO01-OPM7"
Quando clico em edição de viagem
Quando clico na aba "Classificações"
Quando altero a classificação da viagem para "ENTIDADEOPM1Agro"
E clico no botão "Salvar"
E na mensagem "Violações" clico no botão "Salvar"
Entao é exibido a mensagem "Edição feita com sucesso"
E clico no botão OK
Quando clico em edição de viagem
Quando clico na aba "Classificações"
Entao a classificação da viagem exibida deve ser a "ENTIDADEOPM1Agro - ENTIDADEOPM1Agro"

Cenario: Edição de Viagem - Alterar Atributos
Dado que acesso a tela "Programação", "Análise"
Quando clico no botão Cesta geral
Quando clico no botão Minha cesta
Quando filtro a cesta de viagem pelo pedido "PEDIDO01-OPM8"
Quando clico em edição de viagem
Quando clico na aba "Atributos"
Quando preencho o valor do atributo "500"
E clico no botão "Salvar"
E na mensagem "Violações" clico no botão "Salvar"
Entao é exibido a mensagem "Edição feita com sucesso"
E clico no botão OK
Quando clico em edição de viagem
Quando clico na aba "Atributos"
Quando preencho o valor do atributo "0"
E clico no botão "Salvar"
E na mensagem "Violações" clico no botão "Salvar"
E clico no botão OK

Cenario: Edição de Viagem - Inserir Observações/Motorista
Dado que acesso a tela "Programação", "Análise"
Quando clico no botão Cesta geral
Quando clico no botão Minha cesta
Quando filtro a cesta de viagem pelo pedido "PEDIDO01-OPM9"
Quando clico em edição de viagem
Quando na edição de Viagens preencho a Observação "Teste Observação1"
E clico no botão "Salvar"
Entao é exibido a mensagem "Edição feita com sucesso"
E clico no botão OK
Entao no detalhe da Viagen deve exibir o texto "Teste Observação1"
Quando clico em edição de viagem
Quando na edição de viagens apago o campo Observação
E clico no botão "Salvar"
E clico no botão OK

Cenario: Edição de Viagem - Alterar Destino
Dado que acesso a tela "Programação", "Análise"
Quando clico no botão Cesta geral
Quando clico no botão Minha cesta
Quando filtro a cesta de viagem pelo pedido "PEDIDO01-OPM10"
Quando expando o header da viagem
Quando expando o header da carga
Quando expando o header da parada
Quando seleciono o pedido "PEDIDO01-OPM10" na carga
Quando Clico no botão Unidade de Transporte e Alterar Destinos
Quando altero o destino para "LOCDESTHUBDEPOPMAgro"
Quando clico no botão salvar e uso o contexto de otimização padrão
E na mensagem "Violações" clico no botão "Salvar"
Entao é exibido a mensagem "Edição feita com sucesso"
E clico no botão OK
Quando expando o header da viagem
Quando expando o header da carga
Entao na cesta de viagem valido se o destino é o "LOCDESTHUBDEPOPMAgro - LOCDESTHUBDEPOPMAgro"
Quando expando o header da parada
Quando seleciono o pedido "PEDIDO01-OPM10" na carga
Quando Clico no botão Unidade de Transporte e Alterar Destinos
Quando altero o destino para "Destino"
Quando clico no botão salvar e uso o contexto de otimização padrão
E na mensagem "Violações" clico no botão "Salvar"
E clico no botão OK

Cenario: Edição de Viagem - Inserir Placa
Dado que acesso a tela "Programação", "Análise"
Quando clico no botão Cesta geral
Quando clico no botão Minha cesta
Quando filtro a cesta de viagem pelo pedido "PEDIDO01-OPM11"
Quando clico em edição de viagem
Quando preencho o campo placa do veiculo "OPM-1111"
E clico no botão "Salvar"
E na mensagem "Violações" clico no botão "Salvar"
Entao é exibido a mensagem "Edição feita com sucesso"
E clico no botão OK
Entao no detalhe da Viagen deve exibir a placa "OPM-1111"
Quando clico em edição de viagem
Quando preencho o campo placa do veiculo "OPM-3333"
E clico no botão "Salvar"
E na mensagem "Violações" clico no botão "Salvar"
E clico no botão OK

Cenario: Edição de Viagem - Alterar veículo selecionando Automático
Dado que acesso a tela "Programação", "Análise"
Quando clico no botão Cesta geral
Quando clico no botão Minha cesta
Quando filtro a cesta de viagem pelo pedido "PEDIDO01-OPM12"
Quando clico em edição de viagem
Quando clico no botão Selecionar automaticamente veículo
E clico no botão "Salvar"
E na mensagem "Violações" clico no botão "Salvar"
Entao é exibido a mensagem "Edição feita com sucesso"
E clico no botão OK
Entao o veiculo "Padrao" é exibido para a viagem alterada
Quando clico em edição de viagem
Quando altero o veiculo para "VEICULODEPOPM1Agro"
E clico no botão "Salvar"
E na mensagem "Violações" clico no botão "Salvar"
E clico no botão OK

Cenario: Edição de Viagem - Alterar transportadora selecionando Automático
Dado que acesso a tela "Programação", "Análise"
Quando clico no botão Cesta geral
Quando clico no botão Minha cesta
Quando filtro a cesta de viagem pelo pedido "PEDIDO01-OPM13"
Quando clico em edição de viagem
Quando clico no botão Selecionar automaticamente transportadora
E clico no botão "Salvar"
E na mensagem "Violações" clico no botão "Salvar"
Entao é exibido a mensagem "Edição feita com sucesso"
E clico no botão OK
Entao a transportadora "Frota Propria" é exibido para a viagem alterada
Quando clico em edição de viagem
Quando altero a transportadora para "TRANSPORTADORAOPM1Agro"
E clico no botão "Salvar"
E na mensagem "Violações" clico no botão "Salvar"
E clico no botão OK

Cenario: Exclusão de Dependências
Dado que removo do contexto de otimização o pré-validador de operação manual "Transportadoras permitidas por origem e localidade ou origem e zt"
Dado que excluo o pedido "PEDIDO01-OPM0"
Dado que excluo o pedido "PEDIDO01-OPM1"
Dado que excluo o pedido "PEDIDO01-OPM2"
Dado que excluo o pedido "PEDIDO01-OPM3"
Dado que excluo o pedido "PEDIDO01-OPM4"
Dado que excluo o pedido "PEDIDO01-OPM5"
Dado que excluo o pedido "PEDIDO01-OPM6"
Dado que excluo o pedido "PEDIDO01-OPM7"
Dado que excluo o pedido "PEDIDO01-OPM8"
Dado que excluo o pedido "PEDIDO01-OPM9"
Dado que excluo o pedido "PEDIDO01-OPM10"
Dado que excluo o pedido "PEDIDO01-OPM11"
Dado que excluo o pedido "PEDIDO01-OPM12"
Dado que excluo o pedido "PEDIDO01-OPM13"
Dado que excluo o pedido "PEDIDO01-OPM14"
Dado que excluo o pedido "PEDIDO01-OPM15"
Dado que removo a transportadora "TRANSPORTADORAOPM2Agro" e a origem "LOCORIGEMDEPOPMAgro" do parâmetro "Transportadoras permitidas por origem e localidade/zt"
Dado que excluo o produto "PRODDEP01OPMAgro"
Dado que excluo o tipo de pedido "TIPOPEDIDODEPOPMAgro"
Dado que excluo o tipo de item de pedido "TIPOITEMDEPOPMAgro"
Dado que excluo a localidade "LOCORIGEMDEPOPMAgro"
Dado que excluo a localidade "LOCORIGEMDEPOPM2Agro"
Dado que excluo a localidade "LOCDESTDEPOPMAgro"
Dado que excluo a localidade "LOCDESTDEPOPM2Agro"
Dado que excluo a localidade "LOCPASSHUBDEPOPMAgro"
Dado que excluo a localidade "LOCDESTHUBDEPOPMAgro"
Dado que excluo a localidade "LOCDESTHUBDEPOPM2Agro"
Dado que excluo a categoria de produto "CATPRODDEP01OPMAgro"
Dado que excluo o caminhão "OPM-1111"
Dado que excluo o caminhão "OPM-2222"
Dado que excluo o caminhão "OPM-3333"
Dado que excluo o caminhão "OPM-4444"
Dado que excluo o embarcador "EMBDEP01OPMAgro"
Dado que excluo o invólucro "INVDEP01OPMAgro"
Dado que excluo a transportadora "TRANSPORTADORAOPM1Agro"
Dado que excluo a transportadora "TRANSPORTADORAOPM2Agro"
Dado que excluo o veículo "VEICULODEPOPM1Agro"
Dado que excluo o veículo "VEICULODEPOPM2Agro"
Dado que excluo o calculador de tipo de serviço "CALCTIPODESERVOPMAgro"
Dado que excluo a zona de transporte "ZONATRANSP1OPMAgro"
Dado que excluo a restrição de localidade "RESLOCDEPGTFAgro"
Dado que excluo o agrupador de zt "ZONATRANSPOPMAgro"
Dado que excluo o tipo de serviço "TIPOSERVDEPDOCAAgro"